@import './styles/auction-room.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

button, a, input, select, textarea {
  min-width: 44px;
  min-height: 44px;
}

@layer base {
  html {
    max-width: 100vw;
    overflow-x: hidden;
  }
  
  body {
    max-width: 100vw;
    overflow-x: hidden;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }
  
  /* Aggressive mobile overflow fixes */
  * {
    box-sizing: border-box;
  }
  
  /* Prevent horizontal scroll on all elements */
  div, section, main, aside, article, header, footer, nav {
    max-width: 100%;
    overflow-x: hidden;
  }
  
  /* Fix images and media */
  img, video, iframe {
    max-width: 100%;
    height: auto;
  }
  
  /* Fix tables */
  table {
    max-width: 100%;
    overflow-x: auto;
    display: block;
  }
  
  /* Proper container constraints */
  .container, .max-w-7xl, .max-w-6xl, .max-w-5xl {
    max-width: 100%;
    width: 100%;
    padding-left: 1rem;
    padding-right: 1rem;
  }
  
  /* Fix button visibility */
  button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  button.primary,
  button[class*="primary"],
  [data-testid="primary-action"] {
    background: rgb(79 70 229) !important;
    color: white !important;
    padding: 0.5rem 1rem !important;
    border-radius: 0.5rem !important;
    font-weight: 600 !important;
    min-height: 44px !important;
    min-width: 44px !important;
    visibility: visible !important;
    display: flex !important;
    opacity: 1 !important;
  }
  
  /* Mobile-specific fixes */
  @media (max-width: 640px) {
    button.primary,
    button[class*="primary"],
    [data-testid="primary-action"],
    button[class*="bg-indigo-600"],
    button[class*="from-blue-600"] {
      display: flex !important;
      visibility: visible !important;
      opacity: 1 !important;
      position: relative !important;
      z-index: 10 !important;
      min-height: 44px !important;
      min-width: 44px !important;
    }
    
    /* Ensure button containers don't hide buttons */
    .flex.gap-2,
    .flex.gap-2 > button {
      display: flex !important;
      visibility: visible !important;
      opacity: 1 !important;
    }
  }
  
  /* Fix card layouts */
  .card, .bg-white.rounded-lg, .bg-white.rounded-xl {
    width: 100%;
    max-width: 100%;
    overflow: hidden;
    border: 1px solid rgb(229 231 235);
    border-radius: 0.75rem;
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
  }
  
  /* Fix grid layouts */
  .grid {
    display: grid;
    gap: 1.5rem;
  }
  
  .grid-cols-1 {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }
  
  @media (min-width: 768px) {
    .grid-cols-1.md\\:grid-cols-2 {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }
  
  @media (min-width: 1024px) {
    .grid-cols-1.lg\\:grid-cols-3 {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
  }
  
  @media (min-width: 1280px) {
    .grid-cols-1.xl\\:grid-cols-4 {
      grid-template-columns: repeat(4, minmax(0, 1fr));
    }
  }
  
  /* Mobile-specific fixes */
  @media (max-width: 640px) {
    .container, .max-w-7xl, .max-w-6xl, .max-w-5xl {
      padding-left: 0.75rem;
      padding-right: 0.75rem;
    }
    
    /* Hide sidebars on mobile */
    aside[class*="sidebar"],
    aside[class*="Sidebar"],
    aside.w-64 {
      display: none !important;
    }
    
    /* Remove padding that causes overflow */
    [class*="pl-64"],
    [class*="pl-80"],
    [class*="pl-96"] {
      padding-left: 1rem !important;
    }
    
    /* Ensure buttons are visible on mobile */
    button {
      min-height: 48px !important;
      min-width: 48px !important;
      font-size: 16px !important;
    }
  }
}

@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

@layer components {
  .btn {
    @apply inline-flex items-center justify-center rounded-lg px-4 py-2 font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none;
  }
  .btn-lg { @apply px-6 py-3 text-base; }
  .btn-sm { @apply px-3 py-1.5 text-sm; }

  .btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500;
  }
  .btn-secondary {
    @apply bg-secondary-600 text-white hover:bg-secondary-700 focus:ring-secondary-500;
  }
  .btn-accent {
    @apply bg-accent-600 text-white hover:bg-accent-700 focus:ring-accent-500;
  }
  .btn-white {
    @apply bg-white text-primary-600 hover:bg-primary-50 focus:ring-primary-500;
  }
  .btn-outline {
    @apply border border-gray-300 text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 focus:ring-gray-400;
  }
  .btn-outline-invert {
    @apply border-2 border-white text-white hover:bg-white hover:text-primary-600 focus:ring-primary-500;
  }
  .btn-ghost {
    @apply text-gray-600 hover:text-primary-600 bg-transparent hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800 focus:ring-primary-500;
  }
}
